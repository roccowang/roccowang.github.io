---
title: C和进程间通信(1)
date: 2016-08-12 20:51:53
tags:
- Linux
- C/C++
---
简介

<!--more-->

# 参考
- LinuxC一站式学习
- [Linux进程间通信的几种方式总结][1]
- [Linux进程间通信--进程，信号，管道，消息队列，信号量，共享内存][2]
- [Linux 系统内核空间与用户空间通信的实现与分析][3]

---

# IPC
- Linux下采用的进程间通信方式主要有以下几种
    - 无名和有名管道(FIFO)
    - 信号
    - 信号量
    - 消息队列
    - 共享内存
    - 套接字

# 简介
- 管道
    管道可以分为有名管道和无名管道, 其中有名管道又称FIFO. 还有一种流管道, 是全双工的.
    - 无名管道可以通过`pipe()`来创建, 只能用于有亲缘关系的进程通信
    - 有名管道可以通过`mkfifo`来创建, 可以用于普通进程通信
    - 速度慢
- 信号
    - 一种比较复杂的消息传递方式, 一般用于通知进程有事件发生
    - 信息量很小,
- 信号量
    - 可以用于控制进程或者线程间的同步
    - 不能传递复杂信息
- 消息队列
    - 消息的链表, 可以异步读写
    - 比信号的信息量大, 又克服了管道的缓冲区大小受限的缺点
    - 需要注意第一次读时不为空的情况
- 共享内存
    - 是最快的IPC方式, 一般需要和信号量结合使用来保证正确使用
    - 要注意线程安全等问题
- 套接字
    - 用处更为广泛

# 注意
- 传统进程间通信的方式很多, 但它们都无法介于用户态和内核态之间使用(详见[参考的第三条][3])(目前还不是很理解, 以后回头再看)
    - 无名管道
        只能在有亲缘关系的进程间通信
    - 消息队列
        在软硬中断无法无阻塞的接收数据
    - 信号量
        无法介于内核态和用户态使用
    - 共享内存
        需要信号量辅助
    - 套接字
        在软硬中断无法无阻塞的接收数据

[1]:http://blog.csdn.net/gatieme/article/details/50908749
[2]:http://blog.csdn.net/21aspnet/article/details/7479469
[3]:https://www.ibm.com/developerworks/cn/linux/l-netlink/


